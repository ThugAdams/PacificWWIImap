<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Righteous Might: Victory over Japan in World War II</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Georgia', serif;
        }
        
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            background: #f0f0f0;
        }
        
        .header {
            background: #2c3e50;
            color: white;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        h1 {
            margin: 0;
            font-size: 24px;
            font-weight: normal;
        }
        
        .subtitle {
            font-style: italic;
            margin: 5px 0 0;
            font-size: 16px;
            opacity: 0.9;
        }
        
        #map {
            height: calc(100vh - 80px);
            width: 100%;
            z-index: 1;
        }
        
        .legend {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: white;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
            z-index: 1000;
            max-width: 250px;
        }
        
        .legend h3 {
            margin: 0 0 12px 0;
            padding-bottom: 8px;
            border-bottom: 1px solid #ddd;
            font-size: 16px;
            color: #2c3e50;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin: 8px 0;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 12px;
            border: 2px solid white;
            box-shadow: 0 0 3px rgba(0,0,0,0.3);
        }
        
        .legend-line {
            width: 30px;
            height: 4px;
            margin-right: 12px;
        }
        
        .leaflet-popup-content {
            margin: 15px;
            max-width: 300px;
        }
        
        .leaflet-popup-content h3 {
            margin: 0 0 12px 0;
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 8px;
            font-size: 18px;
        }
        
        .leaflet-popup-content .date {
            color: #7f8c8d;
            font-style: italic;
            margin-bottom: 12px;
            display: block;
        }
        
        .leaflet-popup-content .description {
            margin: 12px 0;
            line-height: 1.5;
        }
        
        .leaflet-popup-content a {
            color: #3498db;
            text-decoration: none;
            font-weight: bold;
            display: inline-block;
            margin-top: 10px;
        }
        
        .leaflet-popup-content a:hover {
            text-decoration: underline;
        }
        
        .map-credit {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(255,255,255,0.9);
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 12px;
            z-index: 1000;
            box-shadow: 0 0 5px rgba(0,0,0,0.1);
        }
        
        .number-marker {
            background: white;
            border-radius: 50%;
            width: 22px;
            height: 22px;
            text-align: center;
            font-weight: bold;
            font-size: 12px;
            line-height: 22px;
            border: 2px solid white;
            box-shadow: 0 0 5px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Righteous Might: Victory over Japan in World War II</h1>
        <p class="subtitle">The Pacific Theater 1931-1945</p>
    </div>
    <div id="map"></div>
    <div class="legend">
        <h3>Map Legend</h3>
        <div class="legend-item">
            <div class="legend-color" style="background-color: #e74c3c;"></div>
            <span>Japanese Offensive</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background-color: #3498db;"></div>
            <span>US Offensive</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background-color: #9b59b6;"></div>
            <span>Joint Engagement</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background-color: #2ecc71;"></div>
            <span>US Army Movement</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background-color: #3498db;"></div>
            <span>US Navy Movement</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background-color: #000;"></div>
            <span>US Marine Movement</span>
        </div>
        <div class="legend-item">
            <div class="legend-line" style="background-color: #e74c3c;"></div>
            <span>Japanese Movement</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background-color: #ff5733;"></div>
            <span>Atomic Bomb</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background-color: #BF0A30;"></div>
            <span>US Flag</span>
        </div>
    </div>
    <div class="map-credit">Created by Thug Adams using DeepSeek</div>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script>
        // Initialize the map with a Pacific-centered view
        const map = L.map('map').setView([20, 150], 4);
        
        // Add base tile layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);
        
        // All battle data with coordinates - numbered in chronological order
        const battles = [
            {
                id: 1,
                name: "Japan invades Manchuria",
                date: "Sept. 18, 1931",
                description: "Japan seizes Manchuria after staging Mukden Incident; League of Nations protests ignored, emboldening Japan's empire-building.",
                lat: 41.8,
                lng: 123.4,
                category: "japanese-offensive",
                color: "#e74c3c",
                source: "https://www.britannica.com/event/Mukden-Incident"
            },
            {
                id: 2,
                name: "Japan occupies heart of China",
                date: "July 7, 1937",
                description: "Clash at Marco Polo Bridge near Beijing erupts into full-scale war as Japanese forces pour into China.",
                lat: 39.9,
                lng: 116.4,
                category: "japanese-offensive",
                color: "#e74c3c"
            },
            {
                id: 3,
                name: "Rape of Nanking",
                date: "Dec. 1937 – Jan. 1938",
                description: "Japanese troops unleash massacre in Chinese capital; hundreds of thousands slaughtered, up to 80,000 women raped.",
                lat: 32.1,
                lng: 118.8,
                category: "japanese-offensive",
                color: "#e74c3c",
                source: "https://www.history.com/topics/japan/nanjing-massacre"
            },
            {
                id: 4,
                name: "Japan seizes French Indochina",
                date: "Sept. 1940",
                description: "Japan occupies French Indochina after France surrenders to Germany, tightening grip on Southeast Asia.",
                lat: 21.0,
                lng: 105.8,
                category: "japanese-offensive",
                color: "#e74c3c",
                source: "https://www.britannica.com/place/Vietnam/World-War-II-and-its-aftermath"
            },
            {
                id: 5,
                name: "Japan attacks Pearl Harbor",
                date: "Dec. 7, 1941",
                description: "Japanese carrier fleet launches surprise strike on U.S. Pacific Fleet, killing over 2,400 Americans.",
                lat: 21.37,
                lng: -157.97,
                category: "japanese-offensive",
                color: "#e74c3c",
                source: "https://www.nationalww2museum.org/war/articles/pearl-harbor-attack"
            },
            {
                id: 6,
                name: "Japan attacks Philippines",
                date: "Dec. 7-8, 1941",
                description: "Japanese air raids cripple U.S. forces at Clark Field; invasion soon overwhelms defenders.",
                lat: 15.2,
                lng: 120.9,
                category: "japanese-offensive",
                color: "#e74c3c"
            },
            {
                id: 7,
                name: "Japan attacks Malaya",
                date: "Dec. 7-8, 1941",
                description: "Japanese troops storm ashore hours before Pearl Harbor, striking British Malaya.",
                lat: 3.1,
                lng: 101.7,
                category: "japanese-offensive",
                color: "#e74c3c"
            },
            {
                id: 8,
                name: "Hong Kong falls",
                date: "Dec. 8–25, 1941",
                description: "Japanese forces overwhelm British, Canadian, and Indian defenders; Hong Kong surrenders on Christmas Day.",
                lat: 22.3,
                lng: 114.2,
                category: "japanese-offensive",
                color: "#e74c3c",
                source: "https://www.cbc.ca/history/EPISCONTENTSE1EP13CH2PA1LE.html"
            },
            {
                id: 9,
                name: "Guam attacked and captured",
                date: "Dec. 7-8, 1941",
                description: "Small U.S. garrison overwhelmed by Dec. 10 as Japan secures stepping-stone across Pacific.",
                lat: 13.4,
                lng: 144.7,
                category: "japanese-offensive",
                color: "#e74c3c",
                source: "https://www.britannica.com/event/Battle-of-Guam-World-War-II"
            },
            {
                id: 10,
                name: "Japan attacks Thailand",
                date: "Dec. 8, 1941",
                description: "Japanese landings force quick Thai capitulation, granting Japan vital bases.",
                lat: 13.8,
                lng: 100.5,
                category: "japanese-offensive",
                color: "#e74c3c"
            },
            {
                id: 11,
                name: "Wake Island besieged",
                date: "Dec. 8–23, 1941",
                description: "Outnumbered U.S. Marines repel first Japanese assault, but after weeks of bombing, the island falls.",
                lat: 19.3,
                lng: 166.6,
                category: "joint-engagement",
                color: "#9b59b6",
                source: "https://www.history.navy.mil/research/library/online-reading-room/title-list-alphabetically/b/battle-of-wake-island.html"
            },
            {
                id: 12,
                name: "Solomon Islands campaign",
                date: "Jan. 1942 – Aug. 1945",
                description: "Extended battle began with Japan easily seizing territory controlled by Britain, Australia or under local autonomy.",
                lat: -9.6,
                lng: 160.2,
                category: "joint-engagement",
                color: "#9b59b6"
            },
            {
                id: 13,
                name: "Singapore surrenders",
                date: "Feb. 15, 1942",
                description: "Britain's 'Gibraltar of the East' collapses as 80,000 troops surrender to Japan.",
                lat: 1.3,
                lng: 103.8,
                category: "japanese-offensive",
                color: "#e74c3c",
                source: "https://www.britannica.com/event/Battle-of-Singapore"
            },
            {
                id: 14,
                name: "Battle of Darwin",
                date: "Feb. 19, 1942",
                description: "Japan air attack on Australia port city kills or wounds 600 people.",
                lat: -12.5,
                lng: 130.8,
                category: "japanese-offensive",
                color: "#e74c3c"
            },
            {
                id: 15,
                name: "Bataan Death March",
                date: "April 1942",
                description: "After U.S.-Filipino forces surrender, 76,000 prisoners endure brutal 65-mile forced march.",
                lat: 14.6,
                lng: 120.4,
                category: "japanese-offensive",
                color: "#e74c3c",
                source: "https://www.history.com/topics/world-war-ii/bataan-death-march"
            },
            {
                id: 16,
                name: "Doolittle Raid",
                date: "April 18, 1942",
                description: "Sixteen U.S. bombers launch daring raid on Tokyo from aircraft carrier Hornet.",
                lat: 35.7,
                lng: 139.8,
                category: "us-offensive",
                color: "#3498db",
                source: "https://www.nationalww2museum.org/war/articles/doolittle-raid"
            },
            {
                id: 17,
                name: "Battle of Coral Sea",
                date: "May 4–8, 1942",
                description: "First carrier-vs-carrier battle in history halts Japanese advance toward Australia.",
                lat: -15,
                lng: 155,
                category: "joint-engagement",
                color: "#9b59b6",
                source: "https://www.history.com/topics/world-war-ii/battle-of-coral-sea"
            },
            {
                id: 18,
                name: "Japan captures Alaskan islands",
                date: "June 1942",
                description: "Japanese forces raid and seize the Aleutian Islands of Kiska and Attu in Alaska.",
                lat: 52.0,
                lng: 177.5,
                category: "japanese-offensive",
                color: "#e74c3c"
            },
            {
                id: 19,
                name: "Victory at Midway",
                date: "June 4–7, 1942",
                description: "U.S. Navy ambushes and devastates Japanese fleet, sinking four carriers.",
                lat: 28.2,
                lng: -177.4,
                category: "joint-engagement",
                color: "#9b59b6",
                source: "https://www.history.navy.mil/browse-by-topic/wars-conflicts-and-operations/world-war-ii/1942/battle-of-midway.html"
            },
            {
                id: 20,
                name: "Battle of Guadalcanal",
                date: "Aug. 7, 1942 – Feb. 9, 1943",
                description: "Marines seize Guadalcanal and its airfields in first major U.S. offensive of Pacific War.",
                lat: -9.5,
                lng: 160.0,
                category: "us-offensive",
                color: "#3498db",
                source: "https://www.nationalww2museum.org/war/articles/guadalcanal-campaign"
            },
            {
                id: 21,
                name: "Gilbert and Marshall Islands campaign",
                date: "Aug. 1942 – Feb. 1944",
                description: "Extended series of island battles centered around territory Japan captured.",
                lat: 7.1,
                lng: 171.4,
                category: "us-offensive",
                color: "#3498db"
            },
            {
                id: 22,
                name: "Aleutian Islands retaken",
                date: "Aug. 24, 1943",
                description: "U.S. forces defeat Japan's occupation force and regain complete control.",
                lat: 52.0,
                lng: 177.5,
                category: "us-offensive",
                color: "#3498db"
            },
            {
                id: 23,
                name: "Amphibious assault on Tarawa",
                date: "Nov. 20–23, 1943",
                description: "Marines storm heavily fortified Tarawa; 1,000 killed in 76 hours of carnage.",
                lat: 1.4,
                lng: 172.9,
                category: "us-offensive",
                color: "#3498db",
                source: "https://www.britannica.com/event/Battle-of-Tarawa"
            },
            {
                id: 24,
                name: "Saipan captured",
                date: "June 15 – July 9, 1944",
                description: "Bloody fight costs thousands of U.S. lives; victory places U.S. bombers within range of Tokyo.",
                lat: 15.2,
                lng: 145.8,
                category: "us-offensive",
                color: "#3498db",
                source: "https://www.britannica.com/event/Battle-of-Saipan"
            },
            {
                id: 25,
                name: "Great Marianas Turkey Shoot",
                date: "June 19–20, 1944",
                description: "U.S. carrier planes massacre Japanese pilots during Battle of the Philippine Sea.",
                lat: 16.5,
                lng: 145.8,
                category: "us-offensive",
                color: "#3498db",
                source: "https://www.history.com/topics/world-war-ii/battle-of-the-philippine-sea"
            },
            {
                id: 26,
                name: "Liberation of Philippines",
                date: "Oct. 17–Dec. 26, 1944",
                description: "Amphibious landings followed by large-scale combat lead to liberation of Philippines.",
                lat: 12.9,
                lng: 121.8,
                category: "us-offensive",
                color: "#3498db"
            },
            {
                id: 27,
                name: "Gen. MacArthur returns",
                date: "Oct. 20, 1944",
                description: "MacArthur wades ashore on Leyte, fulfilling vow to return to Philippines.",
                lat: 11.2,
                lng: 125.0,
                category: "us-offensive",
                color: "#3498db",
                source: "https://www.nationalww2museum.org/war/articles/macarthur-returns-philippines"
            },
            {
                id: 28,
                name: "Battle of Leyte Gulf",
                date: "Oct. 23–26, 1944",
                description: "Largest naval battle in history; U.S. destroys much of Japanese fleet.",
                lat: 10.9,
                lng: 125.3,
                category: "joint-engagement",
                color: "#9b59b6",
                source: "https://www.britannica.com/event/Battle-of-Leyte-Gulf"
            },
            {
                id: 29,
                name: "Battle of Iwo Jima",
                date: "Feb. 19 – March 26, 1945",
                description: "Marines rout defenders deeply entrenched on volcanic island.",
                lat: 24.8,
                lng: 141.3,
                category: "us-offensive",
                color: "#3498db",
                source: "https://www.history.com/topics/world-war-ii/battle-of-iwo-jima"
            },
            {
                id: 30,
                name: "Marines raise flag atop Mt. Suribachi",
                date: "Feb. 23, 1945",
                description: "Photographer Joe Rosenthal snaps picture of six marines raising an American flag.",
                lat: 24.75,
                lng: 141.29,
                category: "us-flag",
                color: "#BF0A30"
            },
            {
                id: 31,
                name: "Tokyo firebombed",
                date: "March 9–10, 1945",
                description: "U.S. B-29 raid kills over 100,000 civilians in single night.",
                lat: 35.7,
                lng: 139.8,
                category: "us-offensive",
                color: "#3498db"
            },
            {
                id: 32,
                name: "Battle of Okinawa",
                date: "April 1 – June 22, 1945",
                description: "Bloodiest Pacific battle: 12,000 Americans and 100,000 Japanese dead.",
                lat: 26.5,
                lng: 128.0,
                category: "joint-engagement",
                color: "#9b59b6",
                source: "https://www.britannica.com/event/Battle-of-Okinawa"
            },
            {
                id: 33,
                name: "Battleship Yamato sunk",
                date: "April 7, 1945",
                description: "Largest battleship in history destroyed by US air and sea forces.",
                lat: 30.4,
                lng: 128.0,
                category: "us-offensive",
                color: "#3498db"
            },
            {
                id: 34,
                name: "USS Indianapolis sunk",
                date: "July 30, 1945",
                description: "Heavy cruiser torpedoed after delivering the first atomic bomb.",
                lat: 12.0,
                lng: 134.5,
                category: "japanese-offensive",
                color: "#e74c3c"
            },
            {
                id: 35,
                name: "Atomic bomb attack on Hiroshima",
                date: "Aug. 6, 1945",
                description: "U.S. drops atomic bomb, killing 70,000 instantly.",
                lat: 34.4,
                lng: 132.5,
                category: "atomic-bomb",
                color: "#ff5733",
                source: "https://www.history.com/topics/world-war-ii/bombing-of-hiroshima-and-nagasaki"
            },
            {
                id: 36,
                name: "Nagasaki hit by second atomic bomb",
                date: "Aug. 9, 1945",
                description: "Second atomic bomb devastates Nagasaki.",
                lat: 32.8,
                lng: 129.9,
                category: "atomic-bomb",
                color: "#ff5733",
                source: "https://www.history.com/topics/world-war-ii/bombing-of-hiroshima-and-nagasaki"
            },
            {
                id: 37,
                name: "Japan signs surrender",
                date: "Sept. 2, 1945",
                description: "Japanese and Allied officials sign surrender documents aboard USS Missouri.",
                lat: 35.35,
                lng: 139.65,
                category: "us-flag",
                color: "#BF0A30",
                source: "https://www.britannica.com/event/Surrender-of-Japan"
            }
        ];

        // Function to create custom icon with number
        function createCustomIcon(color, number) {
            return L.divIcon({
                html: `<div class="number-marker" style="background-color: ${color}; color: ${color === '#BF0A30' || color === '#000' ? 'white' : 'black'};">${number}</div>`,
                className: 'custom-marker',
                iconSize: [26, 26],
                iconAnchor: [13, 13]
            });
        }

        // Add all battles to the map with numbers
        battles.forEach(battle => {
            const marker = L.marker([battle.lat, battle.lng], {
                icon: createCustomIcon(battle.color, battle.id)
            }).addTo(map);
            
            const popupContent = `
                <h3>${battle.name}</h3>
                <span class="date">${battle.date}</span>
                <p class="description">${battle.description}</p>
                ${battle.source ? `<a href="${battle.source}" target="_blank">Learn more</a>` : ''}
            `;
            
            marker.bindPopup(popupContent);
        });

        // Add movement lines
        const usNavyMovement = [
            [21.37, -157.97], // Pearl Harbor
            [28.2, -177.4],   // Midway
            [-9.5, 160.0],    // Guadalcanal
            [15.2, 145.8],    // Saipan
            [12.9, 121.8],    // Philippines
            [35.35, 139.65]   // Tokyo Bay
        ];
        
        const usNavyPolyline = L.polyline(usNavyMovement, {
            color: '#3498db',
            weight: 4,
            opacity: 0.7,
            dashArray: '10, 10'
        }).addTo(map);
        
        const japaneseMovement = [
            [41.8, 123.4],    // Manchuria
            [39.9, 116.4],    // China
            [21.0, 105.8],    // French Indochina
            [21.37, -157.97], // Pearl Harbor
            [15.2, 120.9],    // Philippines
            [3.1, 101.7],     // Malaya
            [1.3, 103.8]      // Singapore
        ];
        
        const japanesePolyline = L.polyline(japaneseMovement, {
            color: '#e74c3c',
            weight: 4,
            opacity: 0.7,
            dashArray: '10, 10'
        }).addTo(map);

        // Add arrowheads manually by adding marker at the end
        const usNavyArrow = L.marker([35.35, 139.65], {
            icon: L.divIcon({
                html: '<div style="font-size: 20px; color: #3498db;">➤</div>',
                iconSize: [20, 20],
                iconAnchor: [10, 10]
            })
        }).addTo(map);
        
        const japaneseArrow = L.marker([1.3, 103.8], {
            icon: L.divIcon({
                html: '<div style="font-size: 20px; color: #e74c3c;">➤</div>',
                iconSize: [20, 20],
                iconAnchor: [10, 10]
            })
        }).addTo(map);

        // Add scale control
        L.control.scale({metric: true, imperial: false}).addTo(map);
    </script>
</body>
</html>
